<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Salary Checker</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        #employee-card {
            width: 300px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            text-align: center;
        }

        #employee-card h2 {
            margin-bottom: 15px;
        }

        #employee-id-input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        #check-salary-btn {
            background-color: #4caf50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        #salary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            /* display: none; */
        }

        #salary-table th,
        #salary-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        #salary-table th {
            background-color: #f2f2f2;
        }

        .visible {
            display: table;
        }
    </style>
</head>

<body>
    <div id="employee-card">
        <h2>Employee Salary Checker</h2>
        <input type="text" id="employee-id-input" placeholder="Enter Employee ID">
        <button onclick="checkSalary()" id="check-salary-btn">Check Salary</button>
        <table id="salary-table" class="visible">
            <tr>
                <th>Description</th>
                <th>Amount</th>
            </tr>
            <tr>
                <td>Base Salary</td>
                <td id="base-salary"></td>
            </tr>
            <tr>
                <td>Central Tax (7%)</td>
                <td id="central-tax"></td>
            </tr>
            <tr>
                <td>State Tax (5%)</td>
                <td id="state-tax"></td>
            </tr>
            <tr>
                <td>Municipal Tax (3%)</td>
                <td id="municipal-tax"></td>
            </tr>
            <tr>
                <td>Travelling Allowance (7%)</td>
                <td id="travel-allowance"></td>
            </tr>
            <tr>
                <td>Living Allowance (10%)</td>
                <td id="living-allowance"></td>
            </tr>
            <tr>
                <td>House Rent Allowance (11%)</td>
                <td id="house-rent-allowance"></td>
            </tr>
            <tr>
                <td>Total Salary</td>
                <td id="total-salary"></td>
            </tr>
        </table>
    </div>

    <script>
        function checkSalary() {
                var employeeId = document.getElementById('employee-id-input').value;

                // Assuming you have a backend API endpoint for checking salary
                var apiUrl = 'http://13.232.210.14:3000/getSalary/' + employeeId;

                // Using fetch to make a simple GET request to the backend
                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        // Assuming the backend returns an object with a 'baseSalary' property
                        var baseSalary = data.baseSalary;

                        // Display the base salary
                        document.getElementById('base-salary').textContent = '$' + baseSalary.toFixed(2);

                        // Calculate taxes and allowances
                        var centralTax = 0.07 * baseSalary;
                        var stateTax = 0.05 * baseSalary;
                        var municipalTax = 0.03 * baseSalary;
                        var travelAllowance = 0.07 * baseSalary;
                        var livingAllowance = 0.10 * baseSalary;
                        var houseRentAllowance = 0.11 * baseSalary;

                        // Display taxes and allowances
                        document.getElementById('central-tax').textContent = '₹' + centralTax.toFixed(2);
                        document.getElementById('state-tax').textContent = '₹' + stateTax.toFixed(2);
                        document.getElementById('municipal-tax').textContent = '₹' + municipalTax.toFixed(2);
                        document.getElementById('travel-allowance').textContent = '₹' + travelAllowance.toFixed(2);
                        document.getElementById('living-allowance').textContent = '₹' + livingAllowance.toFixed(2);
                        document.getElementById('house-rent-allowance').textContent = '₹' + houseRentAllowance.toFixed(2);

                        // Calculate total salary
                        var totalSalary = baseSalary - (centralTax + stateTax + municipalTax) + (travelAllowance + livingAllowance + houseRentAllowance);

                        // Display total salary
                        document.getElementById('total-salary').textContent = '₹' + totalSalary.toFixed(2);

                        // Show the table
                        console.log("reached here")
                        document.getElementById('salary-table').classList.add('visible');
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        // Handle errors, e.g., display an error message to the user
                    });
            }

    </script>
</body>

</html>